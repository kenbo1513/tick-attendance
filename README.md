# Tick Attendance System

## 概要
Tick Attendance Systemは、中小企業向けのシンプルで使いやすい勤怠管理システムです。コストを抑えながら、基本的な勤怠管理から給与計算まで対応しています。

## 主な機能

### 1. 勤怠管理
- 従業員の出勤・退勤・休憩の記録
- リアルタイムでの勤怠状況確認
- 日別・月別の勤怠データ集計

### 2. 従業員管理
- 従業員情報の登録・編集
- 部署・役職の管理
- 自動採番による社員ID管理

### 3. 企業管理
- 企業情報の登録・設定
- 管理者アカウントの管理
- 企業固有の設定管理

### 4. 給与テンプレート機能 ⭐新機能
- **Excel給与計算テンプレート**: 勤怠データが自動反映される形式、計算式内蔵・給与明細書自動生成
- **Googleスプレッドシート形式**: Web上で共有・編集可能、リアルタイム計算更新
- **汎用CSV**: 一般的な給与ソフトに対応、柔軟なデータ形式

#### 給与計算の特徴
- 基本給・残業代・各種手当の自動計算
- 社会保険料・所得税の概算計算
- 月次勤怠データの自動集計
- 給与設定の保存・引き継ぎ機能

### 5. SaaS型共通ログイン機能 ⭐最新機能
- **共通ログイン画面**: 企業ID + 管理者ID + パスワードの3項目認証
- **マルチテナント対応**: 複数企業のデータを安全に分離
- **セキュア認証**: トークンベースの認証システム
- **管理者ダッシュボード**: 企業別の管理機能

#### ログイン方式
- 企業ID: K-から始まる7桁の数字（例: K-1234567）
- 管理者ID: 企業ごとに設定された管理者ID
- パスワード: 管理者のパスワード

## 技術仕様

### フロントエンド
- Next.js 14 (App Router)
- TypeScript
- Tailwind CSS
- Lucide React (アイコン)

### データ管理
- localStorage (クライアントサイド)
- 企業別データ分離
- セキュリティログ機能

### エクスポート機能
- XLSXライブラリによるExcel生成
- CSV形式でのデータ出力
- 複数シート対応

### 認証システム
- API Routes (Next.js)
- トークンベース認証
- セッション管理

## セットアップ

### 1. 依存関係のインストール
```bash
npm install
```

### 2. 開発サーバーの起動
```bash
npm run dev
```

### 3. 初期設定
1. `/admin/setup` にアクセス
2. 企業情報を入力
3. 管理者アカウントを作成
4. 基本設定を完了

## 使用方法

### メイン画面（共有端末）
1. ブラウザでシステムにアクセス
2. 出勤・退勤・休憩の打刻ボタンをクリック
3. 社員番号を入力して打刻完了

### 管理者ログイン
1. `/login` にアクセス
2. 企業ID、管理者ID、パスワードを入力
3. ログイン後、管理者ダッシュボードにアクセス

### 管理者画面
1. 従業員の登録・管理
2. 勤怠データの確認
3. 給与テンプレートの生成・エクスポート

### 給与テンプレート機能
1. 管理者画面で「給与テンプレート」タブを選択
2. 給与設定を調整（基本給、時給、残業倍率など）
3. エクスポートしたい年月を選択
4. 希望する形式（Excel/Google/CSV）を選択
5. ダウンロードしたファイルをExcelやGoogleスプレッドシートで開く

## ファイル構成

```
app/
├── page.tsx                 # メインの勤怠記録画面
├── login/page.tsx           # SaaS型共通ログイン画面
├── api/auth/login/route.ts  # 認証API
├── hooks/useAuth.ts         # 認証フック
├── admin/
│   ├── page.tsx            # 管理者ログイン画面
│   ├── setup/page.tsx      # 初期設定画面
│   └── dashboard/page.tsx  # 管理者ダッシュボード
├── lib/
│   ├── auth.ts             # 認証・企業管理
│   ├── localStorage.ts     # データ管理
│   └── salary.ts           # 給与計算ユーティリティ
```

## 特徴

### コスト効率
- 無料で利用可能
- 外部サービスへの依存なし
- ローカル環境での動作

### 使いやすさ
- 直感的なUI/UX
- レスポンシブデザイン
- 日本語対応

### 拡張性
- 企業別のデータ分離
- モジュラー設計
- カスタマイズ可能

### SaaS対応
- マルチテナントアーキテクチャ
- 共通ログイン方式
- 企業別データ管理

## 今後の拡張予定

- クラウド同期機能
- より詳細な給与計算
- レポート機能の強化
- モバイルアプリ対応

## ライセンス

MIT License

## サポート

問題や質問がある場合は、GitHubのIssuesページをご利用ください。
